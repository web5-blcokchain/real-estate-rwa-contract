# 房地产代币化系统部署报告

## 基本信息
- 部署时间: 2025-05-14T01:00:05.449Z
- 网络: testnet
- Chain ID: 31337
- RPC URL: https://test-hardhat-node.usdable.com
- 部署账户: 0x4FA9dD54958B5AA9c190e8565843f86cC7e46149

## 部署账户信息
### 随机生成的部署账户
- 地址: 0x4FA9dD54958B5AA9c190e8565843f86cC7e46149
- 私钥: 0xadfe0ec6de2fda32ed4bd63bd321960c3c34b4ea4d8456db80e15cb8c91a41eb
- 初始ETH余额: 10.0 ETH
- 部署后ETH余额: 9.999622485997357402 ETH

## 角色账户信息
### 管理员账户
- 地址: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
- 角色: ADMIN_ROLE
- 权限: 系统最高权限，可管理所有角色和系统状态

### 经理账户
- 地址: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
- 角色: MANAGER_ROLE
- 权限: 可管理合约日常运营，包括资产注册、交易管理等

### 操作员账户
- 地址: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
- 角色: OPERATOR_ROLE
- 权限: 可执行具体业务操作，如创建订单、执行交易等

## 部署方法
本次部署采用 UUPS 可升级代理模式，所有核心合约均通过代理合约部署，支持后续升级。部署过程分为以下步骤：
1. 部署 RealEstateSystem 系统合约
2. 部署管理合约（PropertyManager、TradingManager、RewardManager）
3. 在系统中授权管理合约
4. 部署 PropertyToken 代币合约
5. 部署 SimpleERC20 测试代币
6. 部署 RealEstateFacade 门面合约
7. 配置交易参数
8. 激活系统
9. 设置角色权限

## 合约详情

### 1. RealEstateSystem
- 地址: 0x221416CFa5A3CD92035E537ded1dD12d4d587c03
- 实现地址: 0x72F853E9E202600c5017B5A060168603c3ed7368
- 功能: 系统核心合约，负责权限管理和系统状态控制
- 权限: 拥有 ADMIN_ROLE、MANAGER_ROLE、OPERATOR_ROLE 等角色管理权限
- 角色分配:
  - ADMIN_ROLE: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
  - MANAGER_ROLE: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
  - OPERATOR_ROLE: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC

### 2. PropertyManager
- 地址: 0x645D817611E0CDaF9cD43332c4E369B9E333471d
- 实现地址: 0xdABF214E5a833269c192D9d70efDdE174680628D
- 功能: 管理房地产资产，包括资产注册、状态更新等
- 权限: 需要 MANAGER_ROLE 权限
- 授权账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8

### 3. TradingManager
- 地址: 0x0b5dcAf621a877dAcF3C540c1e5208C8a3eb7B23
- 实现地址: 0x81F82957608f74441E085851cA5Cc091b23d17A2
- 功能: 管理代币交易，包括订单创建、执行等
- 权限: 需要 MANAGER_ROLE 权限
- 授权账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
- 交易参数:
  - 最大交易金额: 1000 ETH
  - 最小交易金额: 0.01 ETH
  - 冷却期: 3600 秒
  - 交易费率: 1%

### 4. RewardManager
- 地址: 0xA3E5DfE71aE3e6DeC4D98fa28821dF355d7244B3
- 实现地址: 0x9a8164cA007ff0899140719E9aEC9a9C889CbF1E
- 功能: 管理奖励分配，包括收益分配、奖励发放等
- 权限: 需要 MANAGER_ROLE 权限
- 授权账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8

### 5. PropertyToken
- 地址: 0x0
- 实现地址: 0x0
- 功能: 房地产代币合约，实现 ERC20 标准
- 权限: 需要 MANAGER_ROLE 权限
- 授权账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
- 代币信息:
  - 名称: Test Property Token
  - 符号: TPT
  - 初始供应量: 1,000,000 TPT

### 6. SimpleERC20
- 地址: 0xa51807d5a12E7e78148c66dC4851CD33EEd1FDfD
- 功能: 测试代币，用于交易测试
- 代币信息:
  - 名称: Test Token
  - 符号: TEST
  - 初始供应量: 100,000,000 TEST (1亿)
  - 代币分配:
    - 管理员账户: 33333333.333333333333333334 TEST (约33.3%)
    - 经理账户: 33333333.333333333333333333 TEST (约33.3%)
    - 操作员账户: 33333333.333333333333333333 TEST (约33.3%)
    - 部署者账户: 0.0 TEST

### 7. RealEstateFacade
- 地址: 0x76d05F58D14c0838EC630C8140eDC5aB7CD159Dc
- 实现地址: 0x7A3A9876c08B3f001D10c6a8aF685699BC52e7c8
- 功能: 系统门面合约，提供统一的接口访问
- 权限: 需要 MANAGER_ROLE 权限
- 授权账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8

## 权限说明
### 角色定义
1. ADMIN_ROLE
   - 权限级别: 最高
   - 主要职责: 系统管理、角色分配、合约升级
   - 持有账户: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266

2. MANAGER_ROLE
   - 权限级别: 高
   - 主要职责: 合约管理、参数配置、资产注册
   - 持有账户: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8

3. OPERATOR_ROLE
   - 权限级别: 中
   - 主要职责: 业务操作、订单处理、交易执行
   - 持有账户: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC

### 权限验证结果
- 管理员权限: 已授予 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
- 经理权限: 已授予 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
- 操作员权限: 已授予 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC

## 系统状态
- 当前状态: Active
- 紧急模式: 未激活
- 合约授权状态: 全部已授权

## 注意事项
1. 所有合约均采用 UUPS 可升级模式部署
2. 部署后请妥善保管管理员私钥
3. 建议定期备份环境变量文件
4. 如需升级合约，请遵循升级流程
5. 角色权限变更需通过管理员账户操作

## 环境变量
所有合约地址和角色账户已更新至 .env 文件，并已创建备份文件。
