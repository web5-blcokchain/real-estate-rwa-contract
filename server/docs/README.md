# 日本房地产代币化平台文档中心

此文档中心提供了关于日本房地产代币化平台的完整技术和用户文档。包括后端服务、智能合约、部署指南和使用说明等信息。

## 后端服务文档

后端服务负责与以太坊智能合约交互，管理房产注册、代币化、赎回和租金分配。详见[后端服务文档](../README.md)。

### 主要特性

- 房产管理 - 注册、审核、下架房产
- 代币管理 - 创建代币、白名单管理
- 赎回管理 - 处理赎回请求
- 租金管理 - 租金分配和领取
- 基于角色的操作权限系统

## 系统核心文档

| 文档名称 | 描述 |
|---------|------|
| [系统流程图](../../docs/系统流程图.md) | 展示系统各个组件之间的交互流程 |
| [技术文档](../../docs/技术文档.md) | 详细的技术实现说明文档 |
| [角色功能表](../../docs/角色功能表.md) | 系统中各角色及其对应的权限功能 |

## 用户指南

| 文档名称 | 描述 |
|---------|------|
| [用户手册](../../docs/用户手册.md) | 面向最终用户的使用指南 |
| [FAQ](../../docs/FAQ.md) | 常见问题解答 |

## 部署和维护

| 文档名称 | 描述 |
|---------|------|
| [开发部署指南](../../docs/开发部署指南.md) | 开发环境部署步骤和说明 |
| [主网部署指南](../../docs/主网部署指南.md) | 生产环境部署流程和注意事项 |
| [修复指南](../../docs/修复指南.md) | 常见问题的修复方法和系统维护指南 |

## 后端服务架构

后端服务基于Node.js和Express构建，主要组件包括：

1. **配置管理**：管理环境变量、网络配置和角色权限
2. **多角色私钥管理**：根据操作类型使用不同的私钥进行签名
3. **合约服务层**：封装与以太坊智能合约的交互逻辑
4. **控制器和路由**：处理HTTP请求和定义API端点
5. **认证和错误处理**：API密钥认证和统一错误处理

详细的后端架构和目录结构请参考[后端服务文档](../README.md#项目结构)。

## 合约与后端交互

后端服务通过`ethers.js`库与以太坊智能合约进行交互。在处理特定操作时，系统会根据操作类型（在`config/index.js`的`operationRoles`中定义）自动选择使用对应角色的私钥进行签名。

例如，当处理房产审批操作时，系统会使用管理员(admin)私钥；而处理租金分配时，则会使用财务(finance)私钥。

详细的合约交互流程和角色定义请参考：
- [角色功能表](../../docs/角色功能表.md)
- [系统流程图](../../docs/系统流程图.md)

## 测试和维护

系统提供了单元测试和集成测试，可通过以下命令运行：

```bash
npm test
```

如需进行系统维护或常见问题修复，请参考[修复指南](../../docs/修复指南.md)。 