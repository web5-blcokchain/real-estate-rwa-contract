# 日本房产通证化系统技术文档

## 项目概述

日本房产通证化系统是一个基于区块链技术的房产资产通证化平台，旨在将实物房产资产转化为区块链上的数字通证，实现房产所有权的分割、流通和管理。

## 技术架构

### 开发环境
- Solidity: 0.8.17
- 开发框架: Hardhat
- 网络: BSC主网和测试网
- 合约标准: ERC20、ERC1967代理升级

### 系统架构图

## 合约架构
详细描述系统中的每个智能合约及其职责：

### RealEstateSystem
系统的主合约，负责管理和协调其他合约。

### RoleManager
管理系统中的角色和权限，确保只有授权用户可以执行特定操作。

### PropertyRegistry
管理房产信息的注册和状态变更。

### TokenFactory
创建和管理代表房产所有权的ERC20代币。

### RealEstateToken
实现房产代币的功能，包括转账限制和快照功能。

### Marketplace
提供二级市场功能，允许用户买卖房产代币。

### RentDistributor
管理租金的收集和分配给代币持有者。

### RedemptionManager
管理代币的赎回流程。

### FeeManager
管理系统中的各种费用设置和收取。

### TokenHolderQuery
提供查询代币持有者信息的功能。

## 合约交互流程
详细描述主要业务流程中合约之间的交互方式：

1. **房产注册流程**
2. **代币创建流程**
3. **交易流程**
4. **租金分配流程**
5. **赎回流程**

## 升级机制
描述系统的可升级性设计和如何进行合约升级。

## 安全机制
描述系统中实现的安全机制，如角色控制、暂停功能、转账限制等。